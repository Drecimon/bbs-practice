<!DOCTYPE html>
<html lang="en">
<script src="https://cdn.bootcss.com/vue/2.6.10/vue.js"></script>
<script src="https://cdn.bootcss.com/jquery/3.4.0/jquery.js"></script>
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.js"></script>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style.css">

  <title>实验室</title>
</head>

<body>
  <div class="container">
    <div class="contaner-top">
      <img src="images/logo.jpg" alt="">
      <img src="images/banner.png" class="contaner-top-img2">
    </div>

    <div class="Nav">
      <ul>
        <li><a href="./index.html">首页</a></li>
        <li><a href="./Laboratory.html">实验室概况</a></li>
        <li><a href="./Technology.html">技术平台</a></li>
        <li><a href="./Team.html">科研团队</a></li>
        <li><a href="./Talent.html">人才培养</a></li>
        <li><a href="#">内部记录</a></li>
        <li><a href="#">English</a></li>
      </ul>
    </div>

    <script>

    </script>
    <div class="Banner">
      <div class="Banner-left">
        <img src="images/left.jpg" alt="">
        <div>
          <span>Welcome</span>

          <div id="test" style=" text-align:center;">
            <div v-if="!login">
              账号:<br>
              <input v-model="id" type="string" name="identifier" value="126@qq.com">
              <br>
              密码:<br>
              <input v-model="key" type="string" name="credential" value="123"><br>
              <button @click="signin">signin</button>
              <a href="./register.html" style="margin-left: 30px;">
                <button>signup</button>
              </a><br>
            </div>
            <div v-else style=" text-align:center;">
              用户：{{ userId }}<br>
              权限：{{userRole[userRole.length-1]}}<br>
              <br>
              <a href="./upload">上传</a><br>
              <a href="./contrl">管理</a><br>
              <br>
              <button onclick="signout()">登出</button><br>
            </div>

          </div>

          <script>//登陆
            var url = "http://47.100.114.6:8080/api/login"
            new Vue({
              el: '#test',
              data() {
                return {
                  id: "126@qq.com",
                  key: "123",
                  login: false,
                  userId: '',
                  userRole: 0
                }
              },
              methods: {
                async signin() {
                  const form = new FormData();
                  form.append('identifier', this.id);
                  form.append('credential', this.key);
                  // document.write("11111")
                  const result = await axios({
                    method: 'POST',
                    data: form,
                    url
                  });
                  this.userId = result.data.userId;
                  this.userRole = result.data.userRole;
                  //document.write(result)
                  this.login = true
                  //document.write(login)
                }
              }
            })

            function signout() {
              Vue.login = false;
              Vue.userRole = Vue.userId = null;
            }
          </script>

          <!--<input id="userid" type="text" placeholder="UserName"><br>
          <input id="userkey"  type="text" placeholder="PassWard"><br>
          <br>
          <div class="Login">
            <a href="./login.html" style="margin-left: 30px;">Sign in</a>
            <a href="./register.html">Sign up</a><br>
          </div>
          <a href="#">Login</a>-->
        </div>
      </div>
      <div class="Banner-right">
        <h3>科研进展</h3>
        <ul style="float: left;">
          <li><span>【2019-4-12】>>></span><a href="./achievement.html">"第一届XXX研讨会"成功举办</a></li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
        </ul>
        <ul style="float: right;">
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
          <li><span>【2019-4-12】>>></span>"第一届XXX研讨会"成功举办</li>
        </ul>
      </div>
    </div>

    <div class="Footer">
      <div class="Footer-left">
        <span>快速导航</span>
        <ul>
          <li><img src="./images/down1.jpg" alt=""></li>
          <li><img src="images/down2.jpg" alt=""></li>
          <li><img src="images/down3.jpg" alt=""></li>
        </ul>
      </div>
      <div class="Footer-right">

        <div id="wrap">
          <ul class="pic">
            <li>
              <a href="#"><img src="images/pic1.jpg" alt=""></a>
            </li>
            <li>
              <a href="#"><img src="images/pic2.gif" alt=""></a>
            </li>
            <li>
              <a href="#"><img src="images/pic3.gif" alt=""></a>
            </li>
            <li>
              <a href="#"><img src="images/pic4.gif" alt=""></a>
            </li>
            <li>
              <a href="#"><img src="images/pic5.gif" alt=""></a>
            </li>

          </ul>
          <ul class="tab">

            <li class="on"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>

          </ul>

        </div>

      </div>


    </div>

    <div class="Footer-bottom">
      关于我们@copyright
    </div>
  </div>
</body>

</html>
